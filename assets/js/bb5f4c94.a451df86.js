"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[715],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=s(r),f=a,d=p["".concat(l,".").concat(f)]||p[f]||h[f]||c;return r?n.createElement(d,i(i({ref:t},u),{},{components:r})):n.createElement(d,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=r.length,i=new Array(c);i[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var s=2;s<c;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},717:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return h}});var n=r(7462),a=r(3366),c=(r(7294),r(3905)),i=["components"],o={sidebar_label:"cache",title:"grants.meta.cache"},l=void 0,s={unversionedId:"reference/grants/meta/cache",id:"reference/grants/meta/cache",title:"grants.meta.cache",description:"CacheFile Objects",source:"@site/docs/reference/grants/meta/cache.md",sourceDirName:"reference/grants/meta",slug:"/reference/grants/meta/cache",permalink:"/herre/docs/reference/grants/meta/cache",editUrl:"https://github.com/jhnnsrs/turms/edit/master/website/docs/reference/grants/meta/cache.md",tags:[],version:"current",frontMatter:{sidebar_label:"cache",title:"grants.meta.cache"},sidebar:"tutorialSidebar",previous:{title:"errors",permalink:"/herre/docs/reference/grants/errors"},next:{title:"authorization_code",permalink:"/herre/docs/reference/grants/oauth2/authorization_code"}},u={},h=[{value:"CacheFile Objects",id:"cachefile-objects",level:2},{value:"CacheGrant Objects",id:"cachegrant-objects",level:2},{value:"grant",id:"grant",level:4},{value:"cache_file",id:"cache_file",level:4},{value:"hash",id:"hash",level:4},{value:"expires_in",id:"expires_in",level:4},{value:"afetch_token",id:"afetch_token",level:4},{value:"Token Request Parameters:",id:"token-request-parameters",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2}],p={toc:h};function f(e){var t=e.components,r=(0,a.Z)(e,i);return(0,c.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"cachefile-objects"},"CacheFile Objects"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-python"},"class CacheFile(pydantic.BaseModel)\n")),(0,c.kt)("p",null,"Cache file model"),(0,c.kt)("h2",{id:"cachegrant-objects"},"CacheGrant Objects"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-python"},"class CacheGrant(BaseGrant)\n")),(0,c.kt)("p",null,"Grant for caching data, caches the data of the its child grant in a file,\nif that file exists, and it is not expired, it will be used instead of delegating\nto the child grant."),(0,c.kt)("h4",{id:"grant"},"grant"),(0,c.kt)("p",null,"The grant to cache"),(0,c.kt)("h4",{id:"cache_file"},"cache","_","file"),(0,c.kt)("p",null,"The cache file to use"),(0,c.kt)("h4",{id:"hash"},"hash"),(0,c.kt)("p",null,"The hash of the config to validate against"),(0,c.kt)("h4",{id:"expires_in"},"expires","_","in"),(0,c.kt)("p",null,"The expiration time of the cache"),(0,c.kt)("h4",{id:"afetch_token"},"afetch","_","token"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-python"},"async def afetch_token(request: TokenRequest) -> Token\n")),(0,c.kt)("p",null,"Fetches a token"),(0,c.kt)("p",null,"This function will delegate to the child grant if the cache is expired or\ndoes not exist."),(0,c.kt)("p",null,"Additionally, it will check the hash of the config, and the expiration data\nif it does not match, it will delegate to the child grant."),(0,c.kt)("h2",{id:"token-request-parameters"},"Token Request Parameters:"),(0,c.kt)("p",null,"allow_cache: bool\nWhether to allow the cache to be used"),(0,c.kt)("h2",{id:"parameters"},"Parameters"),(0,c.kt)("p",null,"request : TokenRequest\nThe token request to use"),(0,c.kt)("h2",{id:"returns"},"Returns"),(0,c.kt)("p",null,"Token\nThe token"))}f.isMDXComponent=!0}}]);